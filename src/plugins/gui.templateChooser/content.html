<script id="gui-tplchooser-content" type="text/x-template">
    {^{include ^tmpl=template /}}
</script>

<script id="gui-tplchooser-new-content" type="text/x-template">
    <div id="tpe-object-container" data-link="{on 'click' '.card' showDetail}">
        {^{for model.templates}}
        <div class="card" data-id="{{:id}}">
            <img class="card-img-top" src="{{:(preview||'//:0')}}" alt="" />
            <div class="card-title">{{:name}}</div>
            <div class="card-body">
                <p>{{:description}}</p>
            </div>
            <div class="card-footer">
                {{if createdAt}}
                <spam data-i18n="template.lastMod"></spam><em>{{:createdAt}}</em>
                {{else}}<span>&nbsp;</span>
                {{/if}}
            </div>
        </div>
        {{/for}}
    </div>

    <div id="templateDetail" style="display:none;" data-link="title{:model^activeTemplate.name onerror=''}">
        {^{include model.activeTemplate}}
        <div class="template-card">
            <div class="template-content">
                <h4 data-i18n="general.description"></h4><p><em>{^{:description}}</em></p>
                <h4 data-i18n="general.creator"></h4><em>{^{:createdBy}}</em>
                <h4 data-i18n="general.license"></h4><em>{^{:license}}</em>
                <h4 data-i18n="general.category"></h4><em>{^{:category}}</em>
            </div>
            <div class="template-image" >
                 <img src="{{>preview}}" /><br>
            </div>
        </div>
        {{/include}}
        <div class="template-buttons">
            <button class="ui-button ui-widget ui-corner-all" data-i18n="general.create" data-link="{on createObject}"></button>
            <button class="ui-button ui-widget ui-corner-all" data-i18n="general.close" data-link="{on closeDetail}"></button>
        </div>
  
    </div>
</script>

<script id="gui-tplchooser-edit-content" type="text/x-template">
    <div id="tpe-object-container"> <!-- data-link="{on 'click' '.card' showDetail}"-->
        {^{for model.objects ~open=openForEdition ~delete=delete}}
        <div class="card" data-id="{{:id}}">
            <img class="card-img-top" src="{{:(preview||'//:0')}}" alt="" />
            <div class="card-title">{{:name}}</div>
            <div class="card-body">
                <p>{{:~translate('type.'+type)}}</p>
            </div>
            <div class="card-footer">
                {{if createdAt}}
                <spam data-i18n="template.lastMod"></spam><em>{{:createdAt}}</em>
                {{else}}<span>&nbsp;</span>
                {{/if}}
                {^{controlgroup}}
                    {^{on ~open #data}}{^{button ^tmpl=~translate('commands.open') /}}{{/on}}
                    {^{on ~delete #data}}{^{button ^tmpl=~translate('commands.delete') /}}{{/on}}
                {{/controlgroup}}
            </div>
        </div>
        {{/for}}
    </div>
</script>